"use strict";(()=>{var jn=Object.create;var St=Object.defineProperty,ea=Object.defineProperties,ta=Object.getOwnPropertyDescriptor,ra=Object.getOwnPropertyDescriptors,na=Object.getOwnPropertyNames,yr=Object.getOwnPropertySymbols,aa=Object.getPrototypeOf,Tr=Object.prototype.hasOwnProperty,oa=Object.prototype.propertyIsEnumerable;var Er=(r,e,t)=>e in r?St(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oe=(r,e)=>{for(var t in e||(e={}))Tr.call(e,t)&&Er(r,t,e[t]);if(yr)for(var t of yr(e))oa.call(e,t)&&Er(r,t,e[t]);return r},Sr=(r,e)=>ea(r,ra(e));var Re=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var ia=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var sa=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of na(e))!Tr.call(r,u)&&u!==t&&St(r,u,{get:()=>e[u],enumerable:!(i=ta(e,u))||i.enumerable});return r};var ca=(r,e,t)=>(t=r!=null?jn(aa(r)):{},sa(e||!r||!r.__esModule?St(t,"default",{value:r,enumerable:!0}):t,r));var xr=ia((Pr,Lt)=>{(function(r){if(typeof Pr=="object"&&typeof Lt<"u")Lt.exports=r();else if(typeof define=="function"&&define.amd)define([],r);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.localforage=r()}})(function(){var r,e,t;return function i(u,E,S){function P(N,V){if(!E[N]){if(!u[N]){var y=typeof Re=="function"&&Re;if(!V&&y)return y(N,!0);if(M)return M(N,!0);var x=new Error("Cannot find module '"+N+"'");throw x.code="MODULE_NOT_FOUND",x}var U=E[N]={exports:{}};u[N][0].call(U.exports,function($){var q=u[N][1][$];return P(q||$)},U,U.exports,i,u,E,S)}return E[N].exports}for(var M=typeof Re=="function"&&Re,_=0;_<S.length;_++)P(S[_]);return P}({1:[function(i,u,E){(function(S){"use strict";var P=S.MutationObserver||S.WebKitMutationObserver,M;if(P){var _=0,N=new P($),V=S.document.createTextNode("");N.observe(V,{characterData:!0}),M=function(){V.data=_=++_%2}}else if(!S.setImmediate&&typeof S.MessageChannel<"u"){var y=new S.MessageChannel;y.port1.onmessage=$,M=function(){y.port2.postMessage(0)}}else"document"in S&&"onreadystatechange"in S.document.createElement("script")?M=function(){var G=S.document.createElement("script");G.onreadystatechange=function(){$(),G.onreadystatechange=null,G.parentNode.removeChild(G),G=null},S.document.documentElement.appendChild(G)}:M=function(){setTimeout($,0)};var x,U=[];function $(){x=!0;for(var G,re,X=U.length;X;){for(re=U,U=[],G=-1;++G<X;)re[G]();X=U.length}x=!1}u.exports=q;function q(G){U.push(G)===1&&!x&&M()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,u,E){"use strict";var S=i(1);function P(){}var M={},_=["REJECTED"],N=["FULFILLED"],V=["PENDING"];u.exports=y;function y(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=V,this.queue=[],this.outcome=void 0,b!==P&&q(this,b)}y.prototype.catch=function(b){return this.then(null,b)},y.prototype.then=function(b,H){if(typeof b!="function"&&this.state===N||typeof H!="function"&&this.state===_)return this;var I=new this.constructor(P);if(this.state!==V){var k=this.state===N?b:H;U(I,k,this.outcome)}else this.queue.push(new x(I,b,H));return I};function x(b,H,I){this.promise=b,typeof H=="function"&&(this.onFulfilled=H,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}x.prototype.callFulfilled=function(b){M.resolve(this.promise,b)},x.prototype.otherCallFulfilled=function(b){U(this.promise,this.onFulfilled,b)},x.prototype.callRejected=function(b){M.reject(this.promise,b)},x.prototype.otherCallRejected=function(b){U(this.promise,this.onRejected,b)};function U(b,H,I){S(function(){var k;try{k=H(I)}catch(K){return M.reject(b,K)}k===b?M.reject(b,new TypeError("Cannot resolve promise with itself")):M.resolve(b,k)})}M.resolve=function(b,H){var I=G($,H);if(I.status==="error")return M.reject(b,I.value);var k=I.value;if(k)q(b,k);else{b.state=N,b.outcome=H;for(var K=-1,Q=b.queue.length;++K<Q;)b.queue[K].callFulfilled(H)}return b},M.reject=function(b,H){b.state=_,b.outcome=H;for(var I=-1,k=b.queue.length;++I<k;)b.queue[I].callRejected(H);return b};function $(b){var H=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof H=="function")return function(){H.apply(b,arguments)}}function q(b,H){var I=!1;function k(Z){I||(I=!0,M.reject(b,Z))}function K(Z){I||(I=!0,M.resolve(b,Z))}function Q(){H(K,k)}var J=G(Q);J.status==="error"&&k(J.value)}function G(b,H){var I={};try{I.value=b(H),I.status="success"}catch(k){I.status="error",I.value=k}return I}y.resolve=re;function re(b){return b instanceof this?b:M.resolve(new this(P),b)}y.reject=X;function X(b){var H=new this(P);return M.reject(H,b)}y.all=ft;function ft(b){var H=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=b.length,k=!1;if(!I)return this.resolve([]);for(var K=new Array(I),Q=0,J=-1,Z=new this(P);++J<I;)ne(b[J],J);return Z;function ne(Le,_e){H.resolve(Le).then(mt,function(pe){k||(k=!0,M.reject(Z,pe))});function mt(pe){K[_e]=pe,++Q===I&&!k&&(k=!0,M.resolve(Z,K))}}}y.race=me;function me(b){var H=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=b.length,k=!1;if(!I)return this.resolve([]);for(var K=-1,Q=new this(P);++K<I;)J(b[K]);return Q;function J(Z){H.resolve(Z).then(function(ne){k||(k=!0,M.resolve(Q,ne))},function(ne){k||(k=!0,M.reject(Q,ne))})}}},{1:1}],3:[function(i,u,E){(function(S){"use strict";typeof S.Promise!="function"&&(S.Promise=i(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,u,E){"use strict";var S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function P(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function M(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch(n){return}}var _=M();function N(){try{if(!_||!_.open)return!1;var n=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),o=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!n||o)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(a){return!1}}function V(n,o){n=n||[],o=o||{};try{return new Blob(n,o)}catch(s){if(s.name!=="TypeError")throw s;for(var a=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,c=new a,l=0;l<n.length;l+=1)c.append(n[l]);return c.getBlob(o.type)}}typeof Promise>"u"&&i(3);var y=Promise;function x(n,o){o&&n.then(function(a){o(null,a)},function(a){o(a)})}function U(n,o,a){typeof o=="function"&&n.then(o),typeof a=="function"&&n.catch(a)}function $(n){return typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n)),n}function q(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var G="local-forage-detect-blob-support",re=void 0,X={},ft=Object.prototype.toString,me="readonly",b="readwrite";function H(n){for(var o=n.length,a=new ArrayBuffer(o),c=new Uint8Array(a),l=0;l<o;l++)c[l]=n.charCodeAt(l);return a}function I(n){return new y(function(o){var a=n.transaction(G,b),c=V([""]);a.objectStore(G).put(c,"key"),a.onabort=function(l){l.preventDefault(),l.stopPropagation(),o(!1)},a.oncomplete=function(){var l=navigator.userAgent.match(/Chrome\/(\d+)/),s=navigator.userAgent.match(/Edge\//);o(s||!l||parseInt(l[1],10)>=43)}}).catch(function(){return!1})}function k(n){return typeof re=="boolean"?y.resolve(re):I(n).then(function(o){return re=o,re})}function K(n){var o=X[n.name],a={};a.promise=new y(function(c,l){a.resolve=c,a.reject=l}),o.deferredOperations.push(a),o.dbReady?o.dbReady=o.dbReady.then(function(){return a.promise}):o.dbReady=a.promise}function Q(n){var o=X[n.name],a=o.deferredOperations.pop();if(a)return a.resolve(),a.promise}function J(n,o){var a=X[n.name],c=a.deferredOperations.pop();if(c)return c.reject(o),c.promise}function Z(n,o){return new y(function(a,c){if(X[n.name]=X[n.name]||jt(),n.db)if(o)K(n),n.db.close();else return a(n.db);var l=[n.name];o&&l.push(n.version);var s=_.open.apply(_,l);o&&(s.onupgradeneeded=function(f){var h=s.result;try{h.createObjectStore(n.storeName),f.oldVersion<=1&&h.createObjectStore(G)}catch(p){if(p.name==="ConstraintError")console.warn('The database "'+n.name+'" has been upgraded from version '+f.oldVersion+" to version "+f.newVersion+', but the storage "'+n.storeName+'" already exists.');else throw p}}),s.onerror=function(f){f.preventDefault(),c(s.error)},s.onsuccess=function(){var f=s.result;f.onversionchange=function(h){h.target.close()},a(f),Q(n)}})}function ne(n){return Z(n,!1)}function Le(n){return Z(n,!0)}function _e(n,o){if(!n.db)return!0;var a=!n.db.objectStoreNames.contains(n.storeName),c=n.version<n.db.version,l=n.version>n.db.version;if(c&&(n.version!==o&&console.warn('The database "'+n.name+`" can't be downgraded from version `+n.db.version+" to version "+n.version+"."),n.version=n.db.version),l||a){if(a){var s=n.db.version+1;s>n.version&&(n.version=s)}return!0}return!1}function mt(n){return new y(function(o,a){var c=new FileReader;c.onerror=a,c.onloadend=function(l){var s=btoa(l.target.result||"");o({__local_forage_encoded_blob:!0,data:s,type:n.type})},c.readAsBinaryString(n)})}function pe(n){var o=H(atob(n.data));return V([o],{type:n.type})}function Zt(n){return n&&n.__local_forage_encoded_blob}function jr(n){var o=this,a=o._initReady().then(function(){var c=X[o._dbInfo.name];if(c&&c.dbReady)return c.dbReady});return U(a,n,n),a}function en(n){K(n);for(var o=X[n.name],a=o.forages,c=0;c<a.length;c++){var l=a[c];l._dbInfo.db&&(l._dbInfo.db.close(),l._dbInfo.db=null)}return n.db=null,ne(n).then(function(s){return n.db=s,_e(n)?Le(n):s}).then(function(s){n.db=o.db=s;for(var f=0;f<a.length;f++)a[f]._dbInfo.db=s}).catch(function(s){throw J(n,s),s})}function ae(n,o,a,c){c===void 0&&(c=1);try{var l=n.db.transaction(n.storeName,o);a(null,l)}catch(s){if(c>0&&(!n.db||s.name==="InvalidStateError"||s.name==="NotFoundError"))return y.resolve().then(function(){if(!n.db||s.name==="NotFoundError"&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),Le(n)}).then(function(){return en(n).then(function(){ae(n,o,a,c-1)})}).catch(a);a(s)}}function jt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function tn(n){var o=this,a={db:null};if(n)for(var c in n)a[c]=n[c];var l=X[a.name];l||(l=jt(),X[a.name]=l),l.forages.push(o),o._initReady||(o._initReady=o.ready,o.ready=jr);var s=[];function f(){return y.resolve()}for(var h=0;h<l.forages.length;h++){var p=l.forages[h];p!==o&&s.push(p._initReady().catch(f))}var v=l.forages.slice(0);return y.all(s).then(function(){return a.db=l.db,ne(a)}).then(function(g){return a.db=g,_e(a,o._defaultConfig.version)?Le(a):g}).then(function(g){a.db=l.db=g,o._dbInfo=a;for(var C=0;C<v.length;C++){var A=v[C];A!==o&&(A._dbInfo.db=a.db,A._dbInfo.version=a.version)}})}function rn(n,o){var a=this;n=$(n);var c=new y(function(l,s){a.ready().then(function(){ae(a._dbInfo,me,function(f,h){if(f)return s(f);try{var p=h.objectStore(a._dbInfo.storeName),v=p.get(n);v.onsuccess=function(){var g=v.result;g===void 0&&(g=null),Zt(g)&&(g=pe(g)),l(g)},v.onerror=function(){s(v.error)}}catch(g){s(g)}})}).catch(s)});return x(c,o),c}function nn(n,o){var a=this,c=new y(function(l,s){a.ready().then(function(){ae(a._dbInfo,me,function(f,h){if(f)return s(f);try{var p=h.objectStore(a._dbInfo.storeName),v=p.openCursor(),g=1;v.onsuccess=function(){var C=v.result;if(C){var A=C.value;Zt(A)&&(A=pe(A));var D=n(A,C.key,g++);D!==void 0?l(D):C.continue()}else l()},v.onerror=function(){s(v.error)}}catch(C){s(C)}})}).catch(s)});return x(c,o),c}function an(n,o,a){var c=this;n=$(n);var l=new y(function(s,f){var h;c.ready().then(function(){return h=c._dbInfo,ft.call(o)==="[object Blob]"?k(h.db).then(function(p){return p?o:mt(o)}):o}).then(function(p){ae(c._dbInfo,b,function(v,g){if(v)return f(v);try{var C=g.objectStore(c._dbInfo.storeName);p===null&&(p=void 0);var A=C.put(p,n);g.oncomplete=function(){p===void 0&&(p=null),s(p)},g.onabort=g.onerror=function(){var D=A.error?A.error:A.transaction.error;f(D)}}catch(D){f(D)}})}).catch(f)});return x(l,a),l}function on(n,o){var a=this;n=$(n);var c=new y(function(l,s){a.ready().then(function(){ae(a._dbInfo,b,function(f,h){if(f)return s(f);try{var p=h.objectStore(a._dbInfo.storeName),v=p.delete(n);h.oncomplete=function(){l()},h.onerror=function(){s(v.error)},h.onabort=function(){var g=v.error?v.error:v.transaction.error;s(g)}}catch(g){s(g)}})}).catch(s)});return x(c,o),c}function sn(n){var o=this,a=new y(function(c,l){o.ready().then(function(){ae(o._dbInfo,b,function(s,f){if(s)return l(s);try{var h=f.objectStore(o._dbInfo.storeName),p=h.clear();f.oncomplete=function(){c()},f.onabort=f.onerror=function(){var v=p.error?p.error:p.transaction.error;l(v)}}catch(v){l(v)}})}).catch(l)});return x(a,n),a}function cn(n){var o=this,a=new y(function(c,l){o.ready().then(function(){ae(o._dbInfo,me,function(s,f){if(s)return l(s);try{var h=f.objectStore(o._dbInfo.storeName),p=h.count();p.onsuccess=function(){c(p.result)},p.onerror=function(){l(p.error)}}catch(v){l(v)}})}).catch(l)});return x(a,n),a}function ln(n,o){var a=this,c=new y(function(l,s){if(n<0){l(null);return}a.ready().then(function(){ae(a._dbInfo,me,function(f,h){if(f)return s(f);try{var p=h.objectStore(a._dbInfo.storeName),v=!1,g=p.openKeyCursor();g.onsuccess=function(){var C=g.result;if(!C){l(null);return}n===0||v?l(C.key):(v=!0,C.advance(n))},g.onerror=function(){s(g.error)}}catch(C){s(C)}})}).catch(s)});return x(c,o),c}function un(n){var o=this,a=new y(function(c,l){o.ready().then(function(){ae(o._dbInfo,me,function(s,f){if(s)return l(s);try{var h=f.objectStore(o._dbInfo.storeName),p=h.openKeyCursor(),v=[];p.onsuccess=function(){var g=p.result;if(!g){c(v);return}v.push(g.key),g.continue()},p.onerror=function(){l(p.error)}}catch(g){l(g)}})}).catch(l)});return x(a,n),a}function fn(n,o){o=q.apply(this,arguments);var a=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||a.name,n.storeName=n.storeName||a.storeName);var c=this,l;if(!n.name)l=y.reject("Invalid arguments");else{var s=n.name===a.name&&c._dbInfo.db,f=s?y.resolve(c._dbInfo.db):ne(n).then(function(h){var p=X[n.name],v=p.forages;p.db=h;for(var g=0;g<v.length;g++)v[g]._dbInfo.db=h;return h});n.storeName?l=f.then(function(h){if(!!h.objectStoreNames.contains(n.storeName)){var p=h.version+1;K(n);var v=X[n.name],g=v.forages;h.close();for(var C=0;C<g.length;C++){var A=g[C];A._dbInfo.db=null,A._dbInfo.version=p}var D=new y(function(B,O){var F=_.open(n.name,p);F.onerror=function(j){var xe=F.result;xe.close(),O(j)},F.onupgradeneeded=function(){var j=F.result;j.deleteObjectStore(n.storeName)},F.onsuccess=function(){var j=F.result;j.close(),B(j)}});return D.then(function(B){v.db=B;for(var O=0;O<g.length;O++){var F=g[O];F._dbInfo.db=B,Q(F._dbInfo)}}).catch(function(B){throw(J(n,B)||y.resolve()).catch(function(){}),B})}}):l=f.then(function(h){K(n);var p=X[n.name],v=p.forages;h.close();for(var g=0;g<v.length;g++){var C=v[g];C._dbInfo.db=null}var A=new y(function(D,B){var O=_.deleteDatabase(n.name);O.onerror=function(){var F=O.result;F&&F.close(),B(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},O.onsuccess=function(){var F=O.result;F&&F.close(),D(F)}});return A.then(function(D){p.db=D;for(var B=0;B<v.length;B++){var O=v[B];Q(O._dbInfo)}}).catch(function(D){throw(J(n,D)||y.resolve()).catch(function(){}),D})})}return x(l,o),l}var mn={_driver:"asyncStorage",_initStorage:tn,_support:N(),iterate:nn,getItem:rn,setItem:an,removeItem:on,clear:sn,length:cn,key:ln,keys:un,dropInstance:fn};function hn(){return typeof openDatabase=="function"}var se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn="~~local_forage_type~",er=/^~~local_forage_type~([^~]+)~/,ke="__lfsc__:",ht=ke.length,dt="arbf",pt="blob",tr="si08",rr="ui08",nr="uic8",ar="si16",or="si32",ir="ur16",sr="ui32",cr="fl32",lr="fl64",ur=ht+dt.length,fr=Object.prototype.toString;function mr(n){var o=n.length*.75,a=n.length,c,l=0,s,f,h,p;n[n.length-1]==="="&&(o--,n[n.length-2]==="="&&o--);var v=new ArrayBuffer(o),g=new Uint8Array(v);for(c=0;c<a;c+=4)s=se.indexOf(n[c]),f=se.indexOf(n[c+1]),h=se.indexOf(n[c+2]),p=se.indexOf(n[c+3]),g[l++]=s<<2|f>>4,g[l++]=(f&15)<<4|h>>2,g[l++]=(h&3)<<6|p&63;return v}function vt(n){var o=new Uint8Array(n),a="",c;for(c=0;c<o.length;c+=3)a+=se[o[c]>>2],a+=se[(o[c]&3)<<4|o[c+1]>>4],a+=se[(o[c+1]&15)<<2|o[c+2]>>6],a+=se[o[c+2]&63];return o.length%3===2?a=a.substring(0,a.length-1)+"=":o.length%3===1&&(a=a.substring(0,a.length-2)+"=="),a}function pn(n,o){var a="";if(n&&(a=fr.call(n)),n&&(a==="[object ArrayBuffer]"||n.buffer&&fr.call(n.buffer)==="[object ArrayBuffer]")){var c,l=ke;n instanceof ArrayBuffer?(c=n,l+=dt):(c=n.buffer,a==="[object Int8Array]"?l+=tr:a==="[object Uint8Array]"?l+=rr:a==="[object Uint8ClampedArray]"?l+=nr:a==="[object Int16Array]"?l+=ar:a==="[object Uint16Array]"?l+=ir:a==="[object Int32Array]"?l+=or:a==="[object Uint32Array]"?l+=sr:a==="[object Float32Array]"?l+=cr:a==="[object Float64Array]"?l+=lr:o(new Error("Failed to get type for BinaryArray"))),o(l+vt(c))}else if(a==="[object Blob]"){var s=new FileReader;s.onload=function(){var f=dn+n.type+"~"+vt(this.result);o(ke+pt+f)},s.readAsArrayBuffer(n)}else try{o(JSON.stringify(n))}catch(f){console.error("Couldn't convert value into a JSON string: ",n),o(null,f)}}function vn(n){if(n.substring(0,ht)!==ke)return JSON.parse(n);var o=n.substring(ur),a=n.substring(ht,ur),c;if(a===pt&&er.test(o)){var l=o.match(er);c=l[1],o=o.substring(l[0].length)}var s=mr(o);switch(a){case dt:return s;case pt:return V([s],{type:c});case tr:return new Int8Array(s);case rr:return new Uint8Array(s);case nr:return new Uint8ClampedArray(s);case ar:return new Int16Array(s);case ir:return new Uint16Array(s);case or:return new Int32Array(s);case sr:return new Uint32Array(s);case cr:return new Float32Array(s);case lr:return new Float64Array(s);default:throw new Error("Unkown type: "+a)}}var gt={serialize:pn,deserialize:vn,stringToBuffer:mr,bufferToString:vt};function hr(n,o,a,c){n.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],a,c)}function gn(n){var o=this,a={db:null};if(n)for(var c in n)a[c]=typeof n[c]!="string"?n[c].toString():n[c];var l=new y(function(s,f){try{a.db=openDatabase(a.name,String(a.version),a.description,a.size)}catch(h){return f(h)}a.db.transaction(function(h){hr(h,a,function(){o._dbInfo=a,s()},function(p,v){f(v)})},f)});return a.serializer=gt,l}function ce(n,o,a,c,l,s){n.executeSql(a,c,l,function(f,h){h.code===h.SYNTAX_ERR?f.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[o.storeName],function(p,v){v.rows.length?s(p,h):hr(p,o,function(){p.executeSql(a,c,l,s)},s)},s):s(f,h)},s)}function bn(n,o){var a=this;n=$(n);var c=new y(function(l,s){a.ready().then(function(){var f=a._dbInfo;f.db.transaction(function(h){ce(h,f,"SELECT * FROM "+f.storeName+" WHERE key = ? LIMIT 1",[n],function(p,v){var g=v.rows.length?v.rows.item(0).value:null;g&&(g=f.serializer.deserialize(g)),l(g)},function(p,v){s(v)})})}).catch(s)});return x(c,o),c}function yn(n,o){var a=this,c=new y(function(l,s){a.ready().then(function(){var f=a._dbInfo;f.db.transaction(function(h){ce(h,f,"SELECT * FROM "+f.storeName,[],function(p,v){for(var g=v.rows,C=g.length,A=0;A<C;A++){var D=g.item(A),B=D.value;if(B&&(B=f.serializer.deserialize(B)),B=n(B,D.key,A+1),B!==void 0){l(B);return}}l()},function(p,v){s(v)})})}).catch(s)});return x(c,o),c}function dr(n,o,a,c){var l=this;n=$(n);var s=new y(function(f,h){l.ready().then(function(){o===void 0&&(o=null);var p=o,v=l._dbInfo;v.serializer.serialize(o,function(g,C){C?h(C):v.db.transaction(function(A){ce(A,v,"INSERT OR REPLACE INTO "+v.storeName+" (key, value) VALUES (?, ?)",[n,g],function(){f(p)},function(D,B){h(B)})},function(A){if(A.code===A.QUOTA_ERR){if(c>0){f(dr.apply(l,[n,p,a,c-1]));return}h(A)}})})}).catch(h)});return x(s,a),s}function En(n,o,a){return dr.apply(this,[n,o,a,1])}function Tn(n,o){var a=this;n=$(n);var c=new y(function(l,s){a.ready().then(function(){var f=a._dbInfo;f.db.transaction(function(h){ce(h,f,"DELETE FROM "+f.storeName+" WHERE key = ?",[n],function(){l()},function(p,v){s(v)})})}).catch(s)});return x(c,o),c}function Sn(n){var o=this,a=new y(function(c,l){o.ready().then(function(){var s=o._dbInfo;s.db.transaction(function(f){ce(f,s,"DELETE FROM "+s.storeName,[],function(){c()},function(h,p){l(p)})})}).catch(l)});return x(a,n),a}function Cn(n){var o=this,a=new y(function(c,l){o.ready().then(function(){var s=o._dbInfo;s.db.transaction(function(f){ce(f,s,"SELECT COUNT(key) as c FROM "+s.storeName,[],function(h,p){var v=p.rows.item(0).c;c(v)},function(h,p){l(p)})})}).catch(l)});return x(a,n),a}function Mn(n,o){var a=this,c=new y(function(l,s){a.ready().then(function(){var f=a._dbInfo;f.db.transaction(function(h){ce(h,f,"SELECT key FROM "+f.storeName+" WHERE id = ? LIMIT 1",[n+1],function(p,v){var g=v.rows.length?v.rows.item(0).key:null;l(g)},function(p,v){s(v)})})}).catch(s)});return x(c,o),c}function Ln(n){var o=this,a=new y(function(c,l){o.ready().then(function(){var s=o._dbInfo;s.db.transaction(function(f){ce(f,s,"SELECT key FROM "+s.storeName,[],function(h,p){for(var v=[],g=0;g<p.rows.length;g++)v.push(p.rows.item(g).key);c(v)},function(h,p){l(p)})})}).catch(l)});return x(a,n),a}function Pn(n){return new y(function(o,a){n.transaction(function(c){c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(l,s){for(var f=[],h=0;h<s.rows.length;h++)f.push(s.rows.item(h).name);o({db:n,storeNames:f})},function(l,s){a(s)})},function(c){a(c)})})}function xn(n,o){o=q.apply(this,arguments);var a=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||a.name,n.storeName=n.storeName||a.storeName);var c=this,l;return n.name?l=new y(function(s){var f;n.name===a.name?f=c._dbInfo.db:f=openDatabase(n.name,"","",0),n.storeName?s({db:f,storeNames:[n.storeName]}):s(Pn(f))}).then(function(s){return new y(function(f,h){s.db.transaction(function(p){function v(D){return new y(function(B,O){p.executeSql("DROP TABLE IF EXISTS "+D,[],function(){B()},function(F,j){O(j)})})}for(var g=[],C=0,A=s.storeNames.length;C<A;C++)g.push(v(s.storeNames[C]));y.all(g).then(function(){f()}).catch(function(D){h(D)})},function(p){h(p)})})}):l=y.reject("Invalid arguments"),x(l,o),l}var Rn={_driver:"webSQLStorage",_initStorage:gn,_support:hn(),iterate:yn,getItem:bn,setItem:En,removeItem:Tn,clear:Sn,length:Cn,key:Mn,keys:Ln,dropInstance:xn};function wn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(n){return!1}}function pr(n,o){var a=n.name+"/";return n.storeName!==o.storeName&&(a+=n.storeName+"/"),a}function An(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch(o){return!0}}function In(){return!An()||localStorage.length>0}function Hn(n){var o=this,a={};if(n)for(var c in n)a[c]=n[c];return a.keyPrefix=pr(n,o._defaultConfig),In()?(o._dbInfo=a,a.serializer=gt,y.resolve()):y.reject()}function Dn(n){var o=this,a=o.ready().then(function(){for(var c=o._dbInfo.keyPrefix,l=localStorage.length-1;l>=0;l--){var s=localStorage.key(l);s.indexOf(c)===0&&localStorage.removeItem(s)}});return x(a,n),a}function Bn(n,o){var a=this;n=$(n);var c=a.ready().then(function(){var l=a._dbInfo,s=localStorage.getItem(l.keyPrefix+n);return s&&(s=l.serializer.deserialize(s)),s});return x(c,o),c}function _n(n,o){var a=this,c=a.ready().then(function(){for(var l=a._dbInfo,s=l.keyPrefix,f=s.length,h=localStorage.length,p=1,v=0;v<h;v++){var g=localStorage.key(v);if(g.indexOf(s)===0){var C=localStorage.getItem(g);if(C&&(C=l.serializer.deserialize(C)),C=n(C,g.substring(f),p++),C!==void 0)return C}}});return x(c,o),c}function kn(n,o){var a=this,c=a.ready().then(function(){var l=a._dbInfo,s;try{s=localStorage.key(n)}catch(f){s=null}return s&&(s=s.substring(l.keyPrefix.length)),s});return x(c,o),c}function Nn(n){var o=this,a=o.ready().then(function(){for(var c=o._dbInfo,l=localStorage.length,s=[],f=0;f<l;f++){var h=localStorage.key(f);h.indexOf(c.keyPrefix)===0&&s.push(h.substring(c.keyPrefix.length))}return s});return x(a,n),a}function Un(n){var o=this,a=o.keys().then(function(c){return c.length});return x(a,n),a}function $n(n,o){var a=this;n=$(n);var c=a.ready().then(function(){var l=a._dbInfo;localStorage.removeItem(l.keyPrefix+n)});return x(c,o),c}function Fn(n,o,a){var c=this;n=$(n);var l=c.ready().then(function(){o===void 0&&(o=null);var s=o;return new y(function(f,h){var p=c._dbInfo;p.serializer.serialize(o,function(v,g){if(g)h(g);else try{localStorage.setItem(p.keyPrefix+n,v),f(s)}catch(C){(C.name==="QuotaExceededError"||C.name==="NS_ERROR_DOM_QUOTA_REACHED")&&h(C),h(C)}})})});return x(l,a),l}function On(n,o){if(o=q.apply(this,arguments),n=typeof n!="function"&&n||{},!n.name){var a=this.config();n.name=n.name||a.name,n.storeName=n.storeName||a.storeName}var c=this,l;return n.name?l=new y(function(s){n.storeName?s(pr(n,c._defaultConfig)):s(n.name+"/")}).then(function(s){for(var f=localStorage.length-1;f>=0;f--){var h=localStorage.key(f);h.indexOf(s)===0&&localStorage.removeItem(h)}}):l=y.reject("Invalid arguments"),x(l,o),l}var Gn={_driver:"localStorageWrapper",_initStorage:Hn,_support:wn(),iterate:_n,getItem:Bn,setItem:Fn,removeItem:$n,clear:Dn,length:Un,key:kn,keys:Nn,dropInstance:On},Xn=function(o,a){return o===a||typeof o=="number"&&typeof a=="number"&&isNaN(o)&&isNaN(a)},Wn=function(o,a){for(var c=o.length,l=0;l<c;){if(Xn(o[l],a))return!0;l++}return!1},vr=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},Pe={},gr={},ve={INDEXEDDB:mn,WEBSQL:Rn,LOCALSTORAGE:Gn},zn=[ve.INDEXEDDB._driver,ve.WEBSQL._driver,ve.LOCALSTORAGE._driver],Ne=["dropInstance"],bt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ne),Kn={description:"",driver:zn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Vn(n,o){n[o]=function(){var a=arguments;return n.ready().then(function(){return n[o].apply(n,a)})}}function yt(){for(var n=1;n<arguments.length;n++){var o=arguments[n];if(o)for(var a in o)o.hasOwnProperty(a)&&(vr(o[a])?arguments[0][a]=o[a].slice():arguments[0][a]=o[a])}return arguments[0]}var Yn=function(){function n(o){P(this,n);for(var a in ve)if(ve.hasOwnProperty(a)){var c=ve[a],l=c._driver;this[a]=l,Pe[l]||this.defineDriver(c)}this._defaultConfig=yt({},Kn),this._config=yt({},this._defaultConfig,o),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return n.prototype.config=function(a){if((typeof a>"u"?"undefined":S(a))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var c in a){if(c==="storeName"&&(a[c]=a[c].replace(/\W/g,"_")),c==="version"&&typeof a[c]!="number")return new Error("Database version must be a number.");this._config[c]=a[c]}return"driver"in a&&a.driver?this.setDriver(this._config.driver):!0}else return typeof a=="string"?this._config[a]:this._config},n.prototype.defineDriver=function(a,c,l){var s=new y(function(f,h){try{var p=a._driver,v=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!a._driver){h(v);return}for(var g=bt.concat("_initStorage"),C=0,A=g.length;C<A;C++){var D=g[C],B=!Wn(Ne,D);if((B||a[D])&&typeof a[D]!="function"){h(v);return}}var O=function(){for(var xe=function(Jn){return function(){var Zn=new Error("Method "+Jn+" is not implemented by the current driver"),br=y.reject(Zn);return x(br,arguments[arguments.length-1]),br}},Et=0,qn=Ne.length;Et<qn;Et++){var Tt=Ne[Et];a[Tt]||(a[Tt]=xe(Tt))}};O();var F=function(xe){Pe[p]&&console.info("Redefining LocalForage driver: "+p),Pe[p]=a,gr[p]=xe,f()};"_support"in a?a._support&&typeof a._support=="function"?a._support().then(F,h):F(!!a._support):F(!0)}catch(j){h(j)}});return U(s,c,l),s},n.prototype.driver=function(){return this._driver||null},n.prototype.getDriver=function(a,c,l){var s=Pe[a]?y.resolve(Pe[a]):y.reject(new Error("Driver not found."));return U(s,c,l),s},n.prototype.getSerializer=function(a){var c=y.resolve(gt);return U(c,a),c},n.prototype.ready=function(a){var c=this,l=c._driverSet.then(function(){return c._ready===null&&(c._ready=c._initDriver()),c._ready});return U(l,a,a),l},n.prototype.setDriver=function(a,c,l){var s=this;vr(a)||(a=[a]);var f=this._getSupportedDrivers(a);function h(){s._config.driver=s.driver()}function p(C){return s._extend(C),h(),s._ready=s._initStorage(s._config),s._ready}function v(C){return function(){var A=0;function D(){for(;A<C.length;){var B=C[A];return A++,s._dbInfo=null,s._ready=null,s.getDriver(B).then(p).catch(D)}h();var O=new Error("No available storage method found.");return s._driverSet=y.reject(O),s._driverSet}return D()}}var g=this._driverSet!==null?this._driverSet.catch(function(){return y.resolve()}):y.resolve();return this._driverSet=g.then(function(){var C=f[0];return s._dbInfo=null,s._ready=null,s.getDriver(C).then(function(A){s._driver=A._driver,h(),s._wrapLibraryMethodsWithReady(),s._initDriver=v(f)})}).catch(function(){h();var C=new Error("No available storage method found.");return s._driverSet=y.reject(C),s._driverSet}),U(this._driverSet,c,l),this._driverSet},n.prototype.supports=function(a){return!!gr[a]},n.prototype._extend=function(a){yt(this,a)},n.prototype._getSupportedDrivers=function(a){for(var c=[],l=0,s=a.length;l<s;l++){var f=a[l];this.supports(f)&&c.push(f)}return c},n.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0,c=bt.length;a<c;a++)Vn(this,bt[a])},n.prototype.createInstance=function(a){return new n(a)},n}(),Qn=new Yn;u.exports=Qn},{3:3}]},{},[4])(4)})});var Mt=r=>{let e=typeof r;return r!==null&&(e==="object"||e==="function")},Ct=new Set(["__proto__","prototype","constructor"]),la=new Set("0123456789");function Cr(r){let e=[],t="",i="start",u=!1;for(let E of r)switch(E){case"\\":if(i==="index")throw new Error("Invalid character in an index");if(i==="indexEnd")throw new Error("Invalid character after an index");u&&(t+=E),i="property",u=!u;break;case".":if(i==="index")throw new Error("Invalid character in an index");if(i==="indexEnd"){i="property";break}if(u){u=!1,t+=E;break}if(Ct.has(t))return[];e.push(t),t="",i="property";break;case"[":if(i==="index")throw new Error("Invalid character in an index");if(i==="indexEnd"){i="index";break}if(u){u=!1,t+=E;break}if(i==="property"){if(Ct.has(t))return[];e.push(t),t=""}i="index";break;case"]":if(i==="index"){e.push(Number.parseInt(t,10)),t="",i="indexEnd";break}if(i==="indexEnd")throw new Error("Invalid character after an index");default:if(i==="index"&&!la.has(E))throw new Error("Invalid character in an index");if(i==="indexEnd")throw new Error("Invalid character after an index");i==="start"&&(i="property"),u&&(u=!1,t+="\\"),t+=E}switch(u&&(t+="\\"),i){case"property":{if(Ct.has(t))return[];e.push(t);break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function Mr(r,e){if(typeof e!="number"&&Array.isArray(r)){let t=Number.parseInt(e,10);return Number.isInteger(t)&&r[t]===r[e]}return!1}function ua(r,e){if(Mr(r,e))throw new Error("Cannot use string index")}function w(r,e,t){if(!Mt(r)||typeof e!="string")return t===void 0?r:t;let i=Cr(e);if(i.length===0)return t;for(let u=0;u<i.length;u++){let E=i[u];if(Mr(r,E)?r=u===i.length-1?void 0:null:r=r[E],r==null){if(u!==i.length-1)return t;break}}return r===void 0?t:r}function Lr(r,e,t){if(!Mt(r)||typeof e!="string")return r;let i=r,u=Cr(e);for(let E=0;E<u.length;E++){let S=u[E];ua(r,S),E===u.length-1?r[S]=t:Mt(r[S])||(r[S]=typeof u[E+1]=="number"?[]:{}),r=r[S]}return i}var ut=ca(xr());var R=r=>document.getElementById(r),Rr=(r,e)=>{if(document.visibilityState==="hidden")return!1;let t=Object.entries(e);for(let[i,u]of t)r[i]=u;return!0},m=(r,e)=>document.visibilityState==="hidden"?!1:Rr(R(r),e),L=(r,e)=>document.visibilityState==="hidden"?!1:Rr(R(r).style,e);var ie=(r,e)=>r.querySelector(e),fa=(r,e)=>{let t=R("confirmationBox"),i=R("confirmWrapper"),u=ie(document,"#confirm"),E=ie(document,"#transparentBG"),S=ie(u,"#okConfirm"),P=ie(u,"#cancelConfirm");t.style.display="block",i.style.display="block",E.style.display="block",ie(u,"p").textContent=r,u.focus();let M=({target:N})=>{let V=N;return S.removeEventListener("click",M),P.removeEventListener("click",M),u.removeEventListener("keyup",_),t.style.display="none",i.style.display="none",E.style.display="none",e(V===S)},_=N=>N.key==="Enter"||N.key===" "?M({target:S}):N.key==="Escape"?M({target:P}):N.preventDefault();S.addEventListener("click",M),P.addEventListener("click",M),u.addEventListener("keyup",_)},ma=(r,e)=>{let t=R("confirmationBox"),i=R("alertWrapper"),u=ie(document,"#transparentBG"),E=ie(document,"#alert"),S=ie(E,"#okAlert");t.style.display="block",i.style.display="block",u.style.display="block",ie(E,"p").textContent=r,E.focus();let P=()=>{S.removeEventListener("click",P),E.removeEventListener("keyup",M),t.style.display="none",i.style.display="none",u.style.display="none",e(void 0)},M=_=>(_.key==="Enter"||_.key===" ")&&P();S.addEventListener("click",P),E.addEventListener("keyup",M)};var W=r=>new Promise(e=>ma(r,e));var he=r=>new Promise(e=>fa(r,e));var d=(r,e=0)=>{if(r<0)return"-"+d(-r,e);if(r>=1e6){let _=Math.floor(Math.log10(r));return r/=Math.pow(10,_),d(r,2)+"e"+d(_)}let t=Math.floor(r),i=r-t,u=t.toLocaleString(),E=e>0&&r!==0,S=Math.pow(10,e)*i,P=1e-6;Math.ceil(S)-S<P&&(S=Math.ceil(S));let M=E?Math.floor(S).toString():"";if(M!==""){for(;M.length<e;)M="0"+M;M="."+M}return u+M};var wr=(r,e,t,i=1)=>Math.ceil(r*(Math.pow(t,i)-Math.pow(e,i)));var we=r=>new Promise(e=>setTimeout(e,r));var ha={HP:150,MP:25,ATK:15,STR:0,DEF:15,ARMOR:0,CRITCHANCE:0,CRITDAMAGE:100},Pt=class{constructor(e,t){this.baseStats=oe({},e),this.currStats=oe({},e),this.attackRate=t,this.delay=t,this.updateHTML("Initialize")}async decreaseDelay(e){this.delay-=e,Ue&&this.delay<0&&await this.attack()}computeArmorDamageReduction(){return this.currStats.ARMOR}computeDefenseDamageDivisor(){let e=this.baseStats.DEF;return 1+e/100}computeActualDamageReceived(e){let t=this.computeArmorDamageReduction(),i=this.computeDefenseDamageDivisor();return Math.max(0,e-t/i)}async takeDamage(e){if(this.currStats.HP===0)return;let t=this.computeActualDamageReceived(e);this.currStats.HP-=t,this.currStats.HP=Math.max(0,this.currStats.HP),this.updateHTML("Damage"),this.currStats.HP===0&&(await we(1e3),this.currStats=oe({},this.baseStats),this.delay=this.attackRate,this.updateHTML("Initialize"),ge())}computeStrengthModifier(){let e=this.currStats.STR;return 1+e/100}computeDamageBase(){return 1+this.currStats.ATK}computeCriticalDamage(){return this.currStats.CRITDAMAGE/100}computeBaseDamageSent(){let e=this.computeDamageBase(),t=this.computeStrengthModifier(),i=1;return Math.random()<this.currStats.CRITCHANCE&&(i=this.computeCriticalDamage()),e*t*i}async attack(){if(this.delay>0||this.currStats.HP===0)return;let e=this.computeBaseDamageSent();te.takeDamage(e),this.delay=this.attackRate}async enrage(){this.delay>0||this.currStats.HP===0||this.currStats.MP<10||(this.currStats.ATK=Math.floor(1.1*this.currStats.ATK+2),this.currStats.STR=Math.floor(1.1*this.currStats.STR+2),this.currStats.CRITCHANCE+=5,this.currStats.CRITDAMAGE=Math.floor(1.2*this.currStats.CRITDAMAGE),this.currStats.MP-=10,this.updateHTML("StatChange"),this.updateHTML("Ability"),this.delay=this.attackRate)}computeHPBarWidth(){return 100*(this.currStats.HP/this.baseStats.HP)}computeMPBarWidth(){return 100*(this.currStats.MP/this.baseStats.MP)}updateHTML(e){if((e==="Initialize"||e==="StatChange")&&(m("playerATK",{textContent:`ATK ${this.currStats.ATK}`}),m("playerSTR",{textContent:`STR ${this.currStats.STR}`}),m("playerDEF",{textContent:`DEF ${this.currStats.DEF}`}),m("playerARMOR",{textContent:`ARMOR ${this.currStats.ARMOR}`}),m("playerCritChance",{textContent:`CritChance ${this.currStats.CRITCHANCE}`}),m("playerCritDamage",{textContent:`CritDamage ${this.currStats.CRITDAMAGE}`})),e==="Initialize"||e==="Damage"){m("playerHPText",{textContent:`${d(this.currStats.HP,2)}/${d(this.baseStats.HP)}`});let t=this.computeHPBarWidth();L("playerHPProgression",{width:`${t}%`})}if(e==="Initialize"||e==="Ability"){m("playerMPText",{textContent:`${d(this.currStats.MP,2)}/${d(this.baseStats.MP)}`});let t=this.computeMPBarWidth();L("playerMPProgression",{width:`${t}%`})}}},le=new Pt(ha,.666),Ue=!1,Ar=()=>{Ue=!Ue,m("autoAttack",{textContent:`Auto Fight: ${Ue}`})};var Y=class{constructor(e,t){this.baseStats=oe({},e),this.currStats=oe({},e),this.attackRate=t,this.delay=this.attackRate,this.level=this.computeGeneratedLevel(),this.updateHTML("Initialize")}async generateAttacks(e){await this.checkMoveUse()&&(this.delay-=e,this.delay<0&&(this.makeMove(),this.delay=this.attackRate))}computeGeneratedLevel(){let e=1;return e+=Math.min(25,3*Math.log10(1+this.baseStats.HP)),e+=Math.min(25,3*Math.log10(1+this.baseStats.ATK)),e+=Math.min(25,3*Math.log10(1+this.baseStats.DEF)),e+=Math.min(10,this.baseStats.CRITCHANCE/10),e+=Math.min(13,4*Math.log10(this.baseStats.CRITDAMAGE/100)),e}computeArmorDamageReduction(){return this.currStats.ARMOR*(this.currStats.HP/this.baseStats.HP)}computeDefenseDamageDivisor(){let e=this.currStats.DEF;return 1+e/100}computeActualDamageReceived(e){let t=this.computeArmorDamageReduction(),i=this.computeDefenseDamageDivisor();return Math.max(0,e-t/i)}async takeDamage(e){if(this.currStats.HP===0)return;let t=this.computeActualDamageReceived(e);this.currStats.HP-=t,this.currStats.HP=Math.max(0,this.currStats.HP),this.updateHTML("Damage"),this.currStats.HP===0&&(await we(1e3),ge())}computeStrengthModifier(){let e=this.currStats.STR;return 1+e*(1-this.currStats.HP/this.baseStats.HP)/100}computeDamageBase(){return 1+this.currStats.ATK}computeCriticalDamage(){return this.currStats.CRITDAMAGE/100}computeBaseDamageSent(){let e=this.computeDamageBase(),t=this.computeStrengthModifier(),i=1;return Math.random()<this.currStats.CRITCHANCE&&(i=this.computeCriticalDamage()),e*t*i}computeHPBarWidth(){return 100*(this.currStats.HP/this.baseStats.HP)}computeMPBarWidth(){return 100*(this.currStats.MP/this.baseStats.MP)}makeMove(){this.enemyAI()}updateHTML(e){if((e==="Initialize"||e=="StatChange")&&(m("enemyATK",{textContent:`ATK ${this.currStats.ATK}`}),m("enemySTR",{textContent:`STR ${this.currStats.STR}`}),m("enemyDEF",{textContent:`DEF ${this.currStats.DEF}`}),m("enemyARMOR",{textContent:`ARMOR ${this.currStats.ARMOR}`}),m("enemyCritChance",{textContent:`CritChance ${this.currStats.CRITCHANCE}`}),m("enemyCritDamage",{textContent:`CritDamage ${this.currStats.CRITDAMAGE}`})),e==="Initialize"||e==="Damage"){m("enemyHPText",{textContent:`${d(this.currStats.HP,2)}/${d(this.baseStats.HP)}`});let t=this.computeHPBarWidth();L("enemyHPProgression",{width:`${t}%`})}if(e==="Initialize"||e==="Ability"){m("enemyMPText",{textContent:`${d(this.currStats.MP,2)}/${d(this.baseStats.MP)}`});let t=this.computeMPBarWidth();L("enemyMPProgression",{width:`${t}%`})}}async multiAttack(e){m("enemyMove",{textContent:`${d(e)}Hit`});for(let t=0;t<e&&(this.attack(!0),!!await this.checkMoveUse());t++)await we(this.attackRate/Math.min(4,1+e)*1e3)}async attack(e=!1){let t=this.computeBaseDamageSent();le.takeDamage(t),e||m("enemyMove",{textContent:"Attack"})}async doNothing(){m("enemyMove",{textContent:"Nothing"})}async heal(){this.currStats.HP+=this.baseStats.HP*(.5+.5*this.level/99),this.currStats.HP=Math.min(this.currStats.HP,this.baseStats.HP),m("enemyMove",{textContent:"Heal"}),this.updateHTML("Damage")}async checkMoveUse(){return le.currStats.HP>0&&this.currStats.HP>0}};var $e=class extends Y{constructor(t,i){super(t,i);this.enemyType="Aggressive";this.variantSpecificHTML("Initialize")}async enemyAI(){let t=Math.random();t<.25&&this.currStats.HP/this.baseStats.HP<.22&&this.currStats.MP>=2?(await this.heal(),this.currStats.MP-=2,this.updateHTML("Damage"),this.updateHTML("Ability")):t<.33&&this.currStats.MP>=1?(this.currStats.MP-=1,this.updateHTML("Ability"),await this.multiAttack(2)):t<.5&&this.currStats.MP>=2?(this.currStats.MP-=2,this.updateHTML("Ability"),await this.multiAttack(5)):await this.attack()}variantSpecificHTML(t){t==="Initialize"&&m("enemyName",{textContent:`${this.enemyType} Testing Dummy Lv${d(this.level)}`})}};var Fe=class extends Y{constructor(t,i){super(t,i);this.enemyType="BOSS";this.firstAttack=!0,this.usedRage=!1,this.usedEmpowerment=!1,this.variantSpecificHTML("Initialize")}async enemyAI(){let t=Math.random();if(this.firstAttack){this.empower(),this.updateHTML("StatChange"),this.updateHTML("Ability"),m("enemyMove",{textContent:"EMPOWER"}),this.firstAttack=!1,this.usedEmpowerment=!0;return}if(!this.usedRage&&this.currStats.HP/this.baseStats.HP<.5){this.rage(),this.updateHTML("StatChange"),this.updateHTML("Ability"),m("enemyMove",{textContent:"RAGE"}),this.usedRage=!0;return}(t<.05||t<.3&&this.currStats.HP/this.baseStats.HP<.05)&&this.currStats.MP>=2?(await this.heal(),this.currStats.MP-=2,this.updateHTML("Damage"),this.updateHTML("Ability")):t<.75&&this.currStats.MP>=4?(this.currStats.MP-=4,this.updateHTML("Ability"),await this.multiAttack(3)):await this.attack()}empower(){this.currStats.ATK=Math.floor(1.3*this.currStats.ATK+2),this.currStats.STR=Math.floor(1.5*this.currStats.STR+2),this.currStats.CRITCHANCE+=25,this.currStats.CRITDAMAGE=Math.floor(1.4*this.currStats.CRITDAMAGE),this.updateHTML("StatChange")}rage(){this.currStats.ATK=Math.floor(1.5*this.currStats.ATK),this.currStats.STR=Math.floor(1.8*this.currStats.STR),this.currStats.CRITCHANCE+=75,this.currStats.CRITDAMAGE=Math.floor(1.5*this.currStats.CRITDAMAGE),this.currStats.HP=this.baseStats.HP*(.75+.25*this.level/99),this.updateHTML("Ability"),this.updateHTML("Damage"),this.updateHTML("StatChange")}variantSpecificHTML(t){t==="Initialize"&&m("enemyName",{textContent:`${this.enemyType} Training Dummy Lv${d(this.level)}`})}};var Oe=class extends Y{constructor(t,i){super(t,i);this.enemyType="Defensive";this.variantSpecificHTML("Initialize")}async enemyAI(){let t=Math.random();(t<.1||t<.25&&this.currStats.HP/this.baseStats.HP<.25)&&this.currStats.MP>=2?(this.currStats.MP-=2,await this.heal(),this.updateHTML("Damage"),this.updateHTML("Ability")):t<.375&&this.currStats.MP>=1?(this.currStats.MP-=1,this.updateHTML("Ability"),await this.multiAttack(2)):t<.625&&this.currStats.MP>=1?(this.currStats.MP-=1,this.updateHTML("Ability"),await this.defenseUp(),this.updateHTML("StatChange")):await this.attack()}async defenseUp(){this.currStats.DEF+=.01*this.currStats.DEF+1,this.currStats.DEF=Math.floor(this.currStats.DEF),m("enemyMove",{textContent:"DefenseUP"})}variantSpecificHTML(t){t==="Initialize"&&m("enemyName",{textContent:`${this.enemyType} Training Dummy Lv${d(this.level)}`})}};var Ge=class extends Y{constructor(t,i){super(t,i);this.enemyType="Healer";this.variantSpecificHTML("Initialize")}async enemyAI(){let t=Math.random();(t<.333||t<.5&&this.currStats.HP/this.baseStats.HP<.25)&&this.currStats.MP>=2?(await this.heal(),this.currStats.MP-=2,this.updateHTML("Ability")):t<.375&&this.currStats.MP>=1?(this.currStats.MP-=1,this.updateHTML("Ability"),await this.multiAttack(2)):await this.attack()}variantSpecificHTML(t){t==="Initialize"&&m("enemyName",{textContent:`${this.enemyType} Training Dummy Lv${d(this.level)}`})}};var Xe=class extends Y{constructor(t,i){super(t,i);this.enemyType="Idle";this.variantSpecificHTML("Initialize")}async enemyAI(){await this.doNothing()}variantSpecificHTML(t){t==="Initialize"&&m("enemyName",{textContent:`${this.enemyType} Training Dummy Lv${d(this.level)}`})}};var We=class extends Y{constructor(t,i){super(t,i);this.enemyType="Random";this.variantSpecificHTML("Initialize")}async enemyAI(){let t=Math.random();t<.125&&this.currStats.MP>=2?(await this.heal(),this.currStats.MP-=2,this.updateHTML("Damage"),this.updateHTML("Ability")):t<.25&&this.currStats.MP>=1?(this.currStats.MP-=1,this.updateHTML("Ability"),await this.multiAttack(2)):t<.375&&this.currStats.MP>=2?(this.currStats.MP-=2,this.updateHTML("Ability"),await this.multiAttack(3)):t<.75?await this.attack():await this.doNothing()}variantSpecificHTML(t){t==="Initialize"&&m("enemyName",{textContent:`${this.enemyType} Training Dummy Lv${d(this.level)}`})}};var da={HP:50,MP:25,ATK:2,STR:0,DEF:0,ARMOR:0,CRITCHANCE:5,CRITDAMAGE:144},pa={HP:130,MP:30,ATK:1,STR:1,DEF:1,ARMOR:1,CRITCHANCE:25,CRITDAMAGE:150},va={HP:90,MP:12,ATK:1,STR:0,DEF:30,ARMOR:1,CRITCHANCE:5,CRITDAMAGE:125},ga={HP:60,MP:24,ATK:1,STR:0,DEF:10,ARMOR:0,CRITCHANCE:0,CRITDAMAGE:100},ba={HP:200,MP:0,ATK:0,STR:0,DEF:0,ARMOR:0,CRITCHANCE:0,CRITDAMAGE:100},ya={HP:50,MP:25,ATK:1,STR:1,DEF:1,ARMOR:1,CRITCHANCE:30,CRITDAMAGE:125},te,ge=()=>{let r=Math.random();r<=.05?te=new Xe(ba,.666):r<=.6?te=new $e(da,.5):r<=.625?te=new Oe(va,.66):r<=.65?te=new Ge(ga,.66):r<=.7?te=new We(ya,.66):te=new Fe(pa,1)};var ue=r=>{L("innerTesting",{border:"none"}),L("mainTab",{display:"none"}),L("upgradeTab",{display:"none"}),L("talentsTab",{display:"none"}),L("duelingTab",{display:"none"}),L("challengeTab",{display:"none"}),r==="Main"?L("mainTab",{display:"block"}):r==="Upgrades"?L("upgradeTab",{display:"block"}):r==="Talents"?L("talentsTab",{display:"block"}):r==="Dueling"?(L("duelingTab",{display:"block"}),L("innerTesting",{border:"2px solid grey"})):r==="Challenges"&&L("challengeTab",{display:"block"})},ze=r=>{let e=[[2,"upgrade-tab-nav"],[5,"coin-momentum"],[5,"reset"],[20,"talent-tab-nav"],[30,"coin-reverberation"],[40,"coin-vibration"],[50,"dueling-tab-nav"],[75,"coin-adoption"],[0,"challenge-tab-nav"],[150,"coin-resonance"],[225,"coin-agitation"],[225,"coin-empowerment"],[250,"coin-reinforcement"]];for(let t of e){let i=r.highestBarLevel>=t[0]?"block":"none",u=document.getElementById(`${String(t[1])}`);u&&(u.style.display=i)}},Ke=(r,e)=>{e?L("progression",{backgroundColor:"gold"}):L("progression",{backgroundColor:"turquoise"}),setTimeout(()=>{L("progression",{backgroundColor:be(r)})},500),m("refresh-crit-counter",{textContent:d(r.criticalHitsThisRefresh)}),m("refresh-crit-fragments",{textContent:d(100*r.criticalHitsThisRefresh*r.coinUpgrades.barAgitation.upgradeEffect(),2)}),r.barFragments.updateHTML()},Ve=r=>{L("progression",{backgroundColor:"cyan"}),setTimeout(()=>{L("progression",{backgroundColor:be(r)})},1e3),m("coinWorth",{textContent:`Worth ${d(r.coinValueCache)} coins`}),r.coinValueCache>0?L("coinWorth",{color:"gold"}):L("coinWorth",{color:"grey"}),m("refresh-crit-counter",{textContent:d(r.criticalHitsThisRefresh)}),m("refresh-counter",{textContent:d(r.refreshCount)})},Ir=r=>{for(let e in r.coinUpgrades){let t=e;r.coinUpgrades[t].updateHTML()}};var Hr=(r,e)=>{switch(r){case"Basic Challenge":return e.barLevel>=175+25*e.completedChallenges.basicChallenge;case"No Refresh":return e.barLevel>=100+15*e.completedChallenges.noRefresh;case"No Coin Upgrades":return e.barLevel>=100+15*e.completedChallenges.noCoinUpgrades;case"Reduced Bar Fragments":return e.barLevel>=200+40*e.completedChallenges.reducedFragments;default:return!0}};var ye=(r,e)=>{if(e.currentChallenge==="No Refresh")return W("Hey, bub! You can't refresh, it'll be catastrophic, or something.");if(r==="Refresh"&&e.barLevel>=5){if(e.refreshTime<Ae)return void W(`Currently, refreshes have a ${d(Ae)} second cooldown. Sorry!`);e.barFragments.set(e.barFragments.getAmountOnRefresh()),e.barEXP=0,e.barLevel=0,e.barTNL=Ie(e),Ee(de(e.barEXP,e.barTNL)),e.barFragments.updateHTML(),e.talents.barCriticalChance.convertToPerm(),e.talents.barCriticalChance.updateHTML("Initialize"),e.talents.barSpeed.convertToPerm(),e.talents.barSpeed.updateHTML("Initialize"),e.talents.coinGain.convertToPerm(),e.talents.coinGain.updateHTML("Initialize"),e.refreshCount+=1,e.refreshTime=0,e.criticalHitsThisRefresh=0,e.coinValueCache=xt(e),Ke(e,!1),Ve(e)}else return void W("You cannot refresh yet. Get to level 5 lol")};var Dr=()=>{ye("Refresh",T),T.barFragments.set(0)};var fe=async r=>{if(T.currentChallenge!=="None"&&r!=="None")return W(`You are already in a challenge!
         Leave it using the rightmost icon if you want to start a new one.`);let e;if(T.currentChallenge==="None"?e=await he("Entering a challenge also resets your bar fragments. Continue?"):e=await he(`Would you like to exit ${r}?`),e){if(T.barLevel<5&&r!=="None")return W("I cannot do this action until you are at bar level 5.");r!=="None"&&Dr(),T.currentChallenge=r,Ir(T);let t=[["Basic Challenge","basic-challenge-icon"],["No Refresh","no-refresh-challenge-icon"],["No Coin Upgrades","no-coin-upgrade-challenge-icon"],["Reduced Bar Fragments","reduced-fragments-challenge-icon"]];for(let i of t)r!==i[0]?L(i[1],{backgroundColor:"transparent"}):L(i[1],{backgroundColor:"lightgoldenrodyellow"})}else return W("Alright, enjoy your business.")};var Ea=10,Ye=0,Rt=0,Ie=r=>{let e=0;return e+=Ea*Math.pow(r.barLevel+1,2),e*=Math.min(1,(r.barLevel+20)/40),e*=Math.max(1,1+(r.barLevel-20)/10),r.barLevel>40&&(e*=Math.pow(2,1/10*(r.barLevel-40))),r.barLevel>100&&(e*=Math.pow(2,1/10*(r.barLevel-100))),r.barLevel>200&&(e*=Math.pow(2,1/10*(r.barLevel-200))),r.barLevel%5===0&&(e*=Math.max(1,1/2*r.barLevel/10)),e},Ta=r=>{let e=0;return r.barLevel>=10&&(e+=1-Math.pow(Math.E,-r.barLevel/200)),e>=.9999?1e4:1/(1-e)},Sa=r=>{let e=Ta(r);return Math.max(1,e*(1-r.barEXP/r.barTNL))},wt=(r,e)=>{if(r==null)return;let t=1;if(t+=e.coinUpgrades.barSpeed.upgradeEffect(),t*=e.barFragments.unspentBonus(),t*=Math.pow(1+e.coinUpgrades.barMomentum.upgradeEffect(),Math.sqrt(100*Math.min(1,e.barEXP/e.barTNL))),t/=Sa(e),t*=e.talents.barSpeed.talentEffect(),t*=Math.pow(1+e.coinUpgrades.barEmpowerment.upgradeEffect(),e.barLevel),Math.random()<Ht(e)){let E=!1;t*=e.coinUpgrades.barVibration.upgradeEffect(),e.talents.barCriticalChance.gainEXP(r),e.criticalHits+=1,e.criticalHitsThisRefresh+=1,Math.random()<e.coinUpgrades.barResonance.upgradeEffect()&&(t*=3,e.coins.gain(Math.floor(e.barLevel/5)+3),E=!0),Ke(e,E)}let u=t*r;e.barEXP+=u,Ye+=u,m("perSecCurr",{textContent:`+${d(Ye,2)} this sec`})},de=(r,e)=>Math.min(100,.1*Math.floor(1e3*r/e)),Ee=r=>{L("progression",{width:`${r}%`})},be=r=>{if(r.currentChallenge!=="None")return"lightgoldenrodyellow";if(r.barLevel%5===0)return r.barLevel>=320?"#FF0000":`#${(128+4*Math.floor(r.barLevel/10)).toString(16).padStart(2,"0")}0000`;if(r.barLevel>=128)return"#FFFFFF";let e=(128+r.barLevel).toString(16).padStart(2,"0"),t=(2*r.barLevel).toString(16).padStart(2,"0"),i=(128+r.barLevel).toString(16).padStart(2,"0");return`#${e}${t}${i}`},At=r=>{r.coins.gain(r.coinValueCache),r.coinValueCache=xt(r),r.barEXP-=r.barTNL,r.barLevel+=1,r.barLevel>r.highestBarLevel&&(r.highestBarLevel=r.barLevel,ze(r));let e=be(r);L("progression",{backgroundColor:e}),r.barTNL=Ie(r),r.barEXP/=10,r.barEXP=Math.min(r.barEXP,Math.floor(r.barTNL/10));let t=de(r.barEXP,r.barTNL);if(Ee(t),m("coinWorth",{textContent:`Worth ${d(r.coinValueCache)} coins`}),r.barFragments.updateHTML(),r.barLevel===20&&(r.talents.barCriticalChance.updateHTML("Level20"),r.talents.barSpeed.updateHTML("Level20")),r.currentChallenge!=="None"){let i=r.currentChallenge;if(Hr(i,r)){let E={"Basic Challenge":"basicChallenge","No Refresh":"noRefresh","No Coin Upgrades":"noCoinUpgrades","Reduced Bar Fragments":"reducedFragments",None:"reducedFragments"}[i];return r.completedChallenges[E]+=1,fe("None"),W(`Congratulations! You have completed 
            ${i} #${r.completedChallenges[E]}! 
            Ant God is satisfied.`)}}},It=r=>{m("level",{textContent:`Level: ${r.barLevel}`}),m("exp",{textContent:`EXP: ${d(r.barEXP)}/${d(r.barTNL)}`})},Br=r=>{Rt=Ye,Ye=0,m("perSecPrev",{textContent:`+${d(Rt,2)} prev sec`}),r.talents.barCriticalChance.updateHTML("Time"),r.talents.barSpeed.gainEXP(Rt),r.talents.barSpeed.updateHTML("Time"),r.talents.coinGain.updateHTML("Time")},xt=r=>{let e=0,t=1+r.barLevel;t>r.highestBarLevel&&(e+=3),t%5===0&&(e+=Math.floor(t/5)+3,Math.random()<.5&&t>25&&(e=0)),t%10===0&&(e+=Math.floor(t/2)),t%50===0&&(e+=Math.floor(t/2)),t%100===0&&(e+=Math.floor(t)),e>100&&(e=10*Math.pow(e,1/2)),e*=1+r.talents.coinGain.talentEffect();let i=e-Math.floor(e);Math.random()<i&&(e+=1),e=Math.floor(e);let u=R("coinWorth");return u.style.color=e>0?"gold":"grey",e},Ht=r=>r.coinUpgrades.barReverberation.upgradeEffect()+r.talents.barCriticalChance.talentEffect();var Te=class{constructor(e=0,t){this.amount=e;this.player=t;this.amount=e,this.updateHTML()}spend(e){this.amount>=e&&(this.amount-=e,this.updateHTML())}gain(e){this.amount+=e,this.updateHTML(),this.updateOnGain(e)}set(e){this.amount=e,this.updateHTML()}valueOf(){return{amount:this.amount}}};var Qe=class extends Te{constructor(t,i){super(t,i);this.totalCoins=0}updateHTML(){m("gold-amount",{textContent:d(this.amount)})}updateOnGain(t){t>0&&this.player.talents.coinGain.gainEXP(t),this.totalCoins+=t}};var _r="coins",Dt=(r,e)=>{var i,u;let t=(i=w(r,_r))!=null?i:w(e,_r);return new Qe((u=t==null?void 0:t.amount)!=null?u:0,e)};var qe=class extends Te{updateHTML(){m("fragment-amount",{textContent:d(this.amount)}),m("fragment-bonus",{textContent:d(this.amount)}),m("fragment-gain",{textContent:d(this.getAmountOnRefresh())})}getAmountOnRefresh(){let e=this.player.barLevel,t=100*Math.pow(1.07,-5);return t*=Math.pow(1.07,e),t*=Math.pow(3,Math.floor(e/100)),t*=1+this.player.criticalHitsThisRefresh*this.player.coinUpgrades.barAgitation.upgradeEffect(),t*=1+this.player.coinUpgrades.barReinforcement.upgradeEffect()*this.player.barLevel,Math.floor(t)}unspentBonus(){return 1+1/100*this.amount}updateOnGain(){}};var kr="barFragments",Bt=(r,e)=>{var i,u;let t=(i=w(r,kr))!=null?i:w(e,kr);return new qe((u=t==null?void 0:t.amount)!=null?u:0,e)};var Se=class{constructor(e,t,i){this.level=e;this.cost=t;this.player=i}};var ee=class extends Se{constructor(e,t,i){super(e,t,i),this.updateHTML()}capLevel(){this.maxLevel!==-1&&(this.level=Math.min(this.maxLevel,this.level))}purchaseLevels(e,t){t.shiftKey&&(e=-1,e=Math.floor(this.player.coins.amount/this.cost)),this.maxLevel!==-1&&(e=Math.min(e,this.maxLevel-this.level)),this.cost*e<=this.player.coins.amount&&(this.player.coins.spend(this.cost*e),this.level+=e,this.updateHTML())}valueOf(){return{level:this.level,cost:this.cost,maxLevel:this.maxLevel}}checkChallenge(){return this.player.currentChallenge==="No Coin Upgrades"}},z={barSpeed:1,barMomentum:10,barReverberation:25,barVibration:50,barAgitation:1e4,barAdoption:250,barEmpowerment:1e4,barReinforcement:2e4,barResonance:2e3},Je=class extends ee{constructor(){super(...arguments);this.maxLevel=-1}upgradeEffect(){return this.checkChallenge()?0:4*this.level/100+.06*Math.min(90,this.level)}updateHTML(){m("coin-bar-speed-effect",{textContent:`+${d(this.upgradeEffect(),2)} Progress Per Second`}),m("coin-bar-speed-name",{textContent:`Bar Speed ${d(this.level)}`})}},Ze=class extends ee{constructor(t,i,u){super(t,i,u);this.expoDivisor=400;this.maxLevel=Math.ceil(this.expoDivisor*Math.log(1e3));this.maxLevel=100*Math.round(this.maxLevel/100),this.capLevel(),this.updateHTML()}upgradeEffect(){return this.maxLevel===this.level?this.checkChallenge()?0:Math.pow(100,1/10)-1:this.checkChallenge()?0:(.45*(1-Math.pow(Math.E,-this.level/this.expoDivisor))+1/200*Math.min(10,this.level))*((Math.pow(100,1/10)-1)/.5)}updateHTML(){m("coin-bar-momentum-effect",{textContent:`Up to ${d(Math.pow(1+this.upgradeEffect(),10),2)}x Progress Speed based on fill%`}),this.level===this.maxLevel?(m("coin-bar-momentum-name",{textContent:"Bar Momentum [MAX LEVEL]"}),L("coin-bar-momentum-name",{color:"orchid"})):m("coin-bar-momentum-name",{textContent:`Bar Momentum ${d(this.level)}/${d(this.maxLevel)}`})}},je=class extends ee{constructor(t,i,u){super(t,i,u);this.expoDivisor=100;this.maxLevel=Math.ceil(this.expoDivisor*Math.log(1e3));this.maxLevel=100*Math.round(this.maxLevel/100),this.capLevel(),this.updateHTML()}upgradeEffect(){return this.level===this.maxLevel?this.checkChallenge()?0:.01:this.checkChallenge()?0:.009*(1-Math.pow(Math.E,-this.level/this.expoDivisor))+2e-4*Math.min(5,this.level)}updateHTML(){m("coin-bar-reverberation-effect",{textContent:`+${d(100*this.upgradeEffect(),2)}% chance to have a CRITICAL TICK`}),this.level===this.maxLevel?(m("coin-bar-reverberation-name",{textContent:"Bar Reverberation [MAX LEVEL]"}),L("coin-bar-reverberation-name",{color:"orchid"})):m("coin-bar-reverberation-name",{textContent:`Bar Reverberation ${d(this.level)}/${d(this.maxLevel)}`})}},et=class extends ee{constructor(t,i,u){super(t,i,u);this.expoDivisor=170;this.maxLevel=Math.ceil(this.expoDivisor*Math.log(1e3));this.maxLevel=100*Math.round(this.maxLevel/100),this.capLevel(),this.updateHTML()}upgradeEffect(){return this.level===this.maxLevel?this.checkChallenge()?100:2e3:this.checkChallenge()?100:100+1700*(1-Math.pow(Math.E,-this.level/this.expoDivisor))+20*Math.min(10,this.level)}updateHTML(){m("coin-bar-vibration-effect",{textContent:`CRITICAL TICKS fill up the bar ${d(this.upgradeEffect(),2)}x faster`}),this.level===this.maxLevel?(m("coin-bar-vibration-name",{textContent:"Bar Vibration [MAX LEVEL]"}),L("coin-bar-vibration-name",{color:"orchid"})):m("coin-bar-vibration-name",{textContent:`Bar Vibration ${d(this.level)}/${d(this.maxLevel)}`})}},tt=class extends ee{constructor(t,i,u){super(t,i,u);this.maxLevel=-1;this.updateHTML()}upgradeEffect(){return this.checkChallenge()?0:this.level/500}updateHTML(){m("coin-bar-agitation-effect",{textContent:`+${d(100*this.upgradeEffect(),2)}% Bar Fragments per CRIT.`}),m("coin-bar-agitation-name",{textContent:`Bar Agitation ${d(this.level)}`})}},rt=class extends ee{constructor(t,i,u){super(t,i,u);this.maxLevel=200;this.capLevel(),this.updateHTML()}upgradeEffect(){return this.level/100}updateHTML(){m("coin-bar-adoption-effect",{textContent:`+${d(100*this.upgradeEffect())}% Talent EXP`}),this.level===this.maxLevel?(m("coin-bar-adoption-name",{textContent:"Bar Adoption [MAX LEVEL]"}),L("coin-bar-adoption-name",{color:"orchid"})):m("coin-bar-adoption-name",{textContent:`Bar Adoption ${d(this.level)}/${d(this.maxLevel)}`})}},nt=class extends ee{constructor(t,i,u){super(t,i,u);this.maxLevel=100;this.capLevel(),this.updateHTML()}upgradeEffect(){return this.checkChallenge()?0:.02*this.level/100}updateHTML(){m("coin-bar-empowerment-effect",{textContent:`+${d(100*this.upgradeEffect(),2)}% Progress Speed per bar level: (1+x)^(level)`}),this.level===this.maxLevel?(m("coin-bar-empowerment-name",{textContent:"Bar Empowerment [MAX LEVEL]"}),L("coin-bar-empowerment-name",{color:"orchid"})):m("coin-bar-empowerment-name",{textContent:`Bar Empowerment ${d(this.level)}/${d(this.maxLevel)}`})}},at=class extends ee{constructor(t,i,u){super(t,i,u);this.maxLevel=-1;this.updateHTML()}upgradeEffect(){return this.checkChallenge()?0:this.level/1e3}updateHTML(){m("coin-bar-reinforcement-effect",{textContent:`+${d(100*this.upgradeEffect(),2)}% Bar Fragments per bar level (1 + x * level)`}),m("coin-bar-reinforcement-name",{textContent:`Bar Reinforcement ${d(this.level)}`})}},ot=class extends ee{constructor(t,i,u){super(t,i,u);this.expoDivisor=500;this.maxLevel=Math.ceil(this.expoDivisor*Math.log(1e3));this.maxLevel=100*Math.round(this.maxLevel/100),this.capLevel(),this.updateHTML()}upgradeEffect(){return this.level===this.maxLevel?this.checkChallenge()?0:1:this.checkChallenge()?0:1-Math.pow(Math.E,-this.level/this.expoDivisor)}updateHTML(){m("coin-bar-resonance-effect",{textContent:`On CRIT, ${d(100*this.upgradeEffect(),2)}% chance of SUPER
                             CRIT (3x damage and earn coins)`}),this.level===this.maxLevel?(m("coin-bar-resonance-name",{textContent:"Bar Resonance [MAX LEVEL]"}),L("coin-bar-resonance-name",{color:"orchid"})):m("coin-bar-resonance-name",{textContent:`Bar Resonance ${d(this.level)}/${d(this.maxLevel)}`})}};var Nr="coinUpgrades.barSpeed",_t=(r,e)=>{var i,u;let t=(i=w(r,Nr))!=null?i:w(e,Nr);return new Je((u=t==null?void 0:t.level)!=null?u:0,z.barSpeed,e)};var Ur="coinUpgrades.barMomentum",kt=(r,e)=>{var i,u;let t=(i=w(r,Ur))!=null?i:w(e,Ur);return new Ze((u=t==null?void 0:t.level)!=null?u:0,z.barMomentum,e)};var $r="coinUpgrades.barReverberation",Nt=(r,e)=>{var i,u;let t=(i=w(r,$r))!=null?i:w(e,$r);return new je((u=t==null?void 0:t.level)!=null?u:0,z.barReverberation,e)};var Fr="coinUpgrades.barVibration",Ut=(r,e)=>{var i,u;let t=(i=w(r,Fr))!=null?i:w(e,Fr);return new et((u=t==null?void 0:t.level)!=null?u:0,z.barVibration,e)};var Or="coinUpgrades.barAgitation",$t=(r,e)=>{var i,u;let t=(i=w(r,Or))!=null?i:w(e,Or);return new tt((u=t==null?void 0:t.level)!=null?u:0,z.barAgitation,e)};var Gr="coinUpgrades.barAdoption",Ft=(r,e)=>{var i,u;let t=(i=w(r,Gr))!=null?i:w(e,Gr);return new rt((u=t==null?void 0:t.level)!=null?u:0,z.barAdoption,e)};var Xr="coinUpgrades.barEmpowerment",Ot=(r,e)=>{var i,u;let t=(i=w(r,Xr))!=null?i:w(e,Xr);return new nt((u=t==null?void 0:t.level)!=null?u:0,z.barEmpowerment,e)};var Wr="coinUpgrades.barReinforcement",Gt=(r,e)=>{var i,u;let t=(i=w(r,Wr))!=null?i:w(e,Wr);return new at((u=t==null?void 0:t.level)!=null?u:0,z.barReinforcement,e)};var zr="coinUpgrades.barResonance",Xt=(r,e)=>{var i,u;let t=(i=w(r,zr))!=null?i:w(e,zr);return new ot((u=t==null?void 0:t.level)!=null?u:0,z.barResonance,e)};var Wt=r=>r.barLevel>=20,He=class extends Se{constructor(t,i,u,E,S,P){super(t,i,P);this.investedFragments=u,this.permLevel=E,this.currEXP=S,this.currTNL=this.calculateTNL()}calculateTNL(){let t=wr(this.cost,this.level,this.level+1,2),i=[50,100,200,500,1e3,2e3,5e3,1e4];for(let u of i)this.level>=u&&(t*=2);return t}setEXP(t){this.currEXP=t,this.updateHTML("GainEXP")}globalTalentEXPMultipliers(){let t=1;return t*=this.sacrificeBoost(),t*=1+this.player.coinUpgrades.barAdoption.upgradeEffect(),t}gainEXP(t){if(!Wt(this.player))return;let i=this.calculateEXPGain(t);this.currEXP+=i,this.currEXP>=this.currTNL&&this.levelUp(),this.updateHTML("GainEXP")}subEXP(t){!Wt(this.player)||(this.currEXP-=t)}levelUp(){let t=0;for(;this.currEXP>=this.currTNL&&!(t>=10);)this.level+=1,this.subEXP(this.currTNL),this.currTNL=this.calculateTNL(),t++;this.updateHTML("LevelUp")}computePermLevelGain(t){let i=0;return i+=Math.sqrt(t),i*=Math.min(4,Math.pow(this.player.refreshTime/300,2)),i=Math.min(t,i),Math.floor(i)}convertToPerm(){this.permLevel+=this.computePermLevelGain(this.level),this.level=0,this.setEXP(0),this.currTNL=this.calculateTNL(),this.updateHTML("PermLevelUp")}getBarWidth(){return Math.min(100,100*this.currEXP/this.currTNL)}sacrificeBoost(){return 1+1/100*Math.pow(Math.log2(1+this.investedFragments/4),2)}async sacrificeFragments(){if(this.player.barFragments.amount<1e3)return void W("You cannot sacrifice your bar fragments until you have at least 1,000 of them.");if(this.player.barFragments.amount<=this.investedFragments)return void W(`This bar needs more fragments than you can invest. You need ${d(this.investedFragments)}.`);await he(`You will sacrifice ${d(this.player.barFragments.amount-this.investedFragments)} Bar Fragments to increase EXP gain for this bar. Will you? (automatically performs a refresh, setting your fragments to 0)`)&&(this.investedFragments=this.player.barFragments.amount,this.player.refreshTime+=Ae,ye("Refresh",this.player),this.player.barFragments.set(0),this.updateHTML("Sacrifice"))}updateHTML(t){if(this.idHTML!==void 0){if(t==="Initialize"||t==="GainEXP"||t==="LevelUp"||t==="PermLevelUp"){m(`talent${this.idHTML}EXP`,{textContent:`EXP: ${d(this.currEXP)}/${d(this.currTNL)}`});let i=`${this.getBarWidth()}%`;L(`talent${this.idHTML}Progression`,{width:i})}(t==="Initialize"||t==="LevelUp"||t==="PermLevelUp")&&m(`talent${this.idHTML}TempLevel`,{textContent:`Level this run: ${d(this.level)}`}),(t==="Initialize"||t==="PermLevelUp")&&m(`talent${this.idHTML}PermLevel`,{textContent:`Banked levels: ${d(this.permLevel)}`}),(t==="Initialize"||t==="Time"||t==="LevelUp")&&m(`talent${this.idHTML}PermGain`,{textContent:`Banked on reset: +${d(this.computePermLevelGain(this.level))}`}),(t==="Initialize"||t==="LevelUp"||t==="PermLevelUp"||t==="Level20")&&m(`talent${this.idHTML}Effect`,{textContent:this.displayEffect()}),(t==="Initialize"||t==="Sacrifice")&&(m(`talent${this.idHTML}SacrificeAmount`,{textContent:d(this.investedFragments)}),m(`talent${this.idHTML}SacrificeMultiplier`,{textContent:d(this.sacrificeBoost(),3)}))}}valueOf(){return{level:this.level,cost:this.cost,investedFragments:this.investedFragments,permLevel:this.permLevel,currEXP:this.currEXP,idHTML:this.idHTML}}},Ce={talentCriticalChance:10,talentProgressSpeed:10,talentCoinGain:1e3},it=class extends He{constructor(t,i,u,E,S,P){super(t,i,u,E,S,P);this.idHTML="CriticalChance";this.updateHTML("Initialize")}calculateEXPGain(t){let i=5;return i*=t*1e3/De,i*=this.player.barLevel/10-1,i*=this.globalTalentEXPMultipliers(),i}talentEffect(){return Wt(this.player)?.0025*(1-Math.pow(Math.E,-this.level/2500))+.0025*Math.min(250,this.level)/250+.0025*(1-Math.pow(Math.E,-this.permLevel/4e3))+.0025*Math.min(500,this.level)/500:0}displayEffect(){return`+${d(100*this.talentEffect(),3)}% chance of CRITICAL TICK`}},st=class extends He{constructor(t,i,u,E,S,P){super(t,i,u,E,S,P);this.idHTML="ProgressSpeed";this.updateHTML("Initialize")}calculateEXPGain(t){let i=Math.log10(1+t);return i*=this.player.barLevel/10-1,i*=this.globalTalentEXPMultipliers(),i}talentEffect(){return(1+this.level/25)*(1+this.permLevel/50)}displayEffect(){return`Progress Speed +${d(100*(this.talentEffect()-1),2)}%`}},ct=class extends He{constructor(t,i,u,E,S,P){super(t,i,u,E,S,P);this.idHTML="CoinGain";this.updateHTML("Initialize")}calculateEXPGain(t){let i=2+Math.floor(Math.pow(t,2)/100+4*t);return i*=this.globalTalentEXPMultipliers(),i}talentEffect(){return Math.min(.4,this.level/1e3)+Math.min(.4,this.permLevel/2e3)+.2*(this.level*25+this.permLevel)/(2500+this.level*25+this.permLevel)+1*(this.level*25+this.permLevel)/(5e4+this.level*25+this.permLevel)}displayEffect(){return`Progress bar grants +${d(100*this.talentEffect(),2)}% coins!`}};var Kr="talents.barCriticalChance",zt=(r,e)=>{var i,u,E,S,P;let t=(i=w(r,Kr))!=null?i:w(e,Kr);return new it((u=t==null?void 0:t.level)!=null?u:0,Ce.talentCriticalChance,(E=t==null?void 0:t.investedFragments)!=null?E:0,(S=t==null?void 0:t.permLevel)!=null?S:0,(P=t==null?void 0:t.currEXP)!=null?P:0,e)};var Vr="talents.barSpeed",Kt=(r,e)=>{var i,u,E,S,P;let t=(i=w(r,Vr))!=null?i:w(e,Vr);return new st((u=t==null?void 0:t.level)!=null?u:0,Ce.talentProgressSpeed,(E=t==null?void 0:t.investedFragments)!=null?E:0,(S=t==null?void 0:t.permLevel)!=null?S:0,(P=t==null?void 0:t.currEXP)!=null?P:0,e)};var Yr="talents.coinGain",Vt=(r,e)=>{var i,u,E,S,P;let t=(i=w(r,Yr))!=null?i:w(e,Yr);return new ct((u=t==null?void 0:t.level)!=null?u:0,Ce.talentCoinGain,(E=t==null?void 0:t.investedFragments)!=null?E:0,(S=t==null?void 0:t.permLevel)!=null?S:0,(P=t==null?void 0:t.currEXP)!=null?P:0,e)};var T={firstPlayed:new Date,barEXP:0,barTNL:0,totalEXP:0,barLevel:0,highestBarLevel:0,refreshCount:0,refreshTime:0,criticalHits:0,criticalHitsThisRefresh:0,coinValueCache:0,currentChallenge:"None",completedChallenges:{basicChallenge:0,noRefresh:0,noCoinUpgrades:0,reducedFragments:0}},qr=Object.assign({},T),Ma=async r=>{var i;let e=Sr(oe({},r),{coins:r.coins.valueOf(),coinUpgrades:{barSpeed:r.coinUpgrades.barSpeed.valueOf(),barMomentum:r.coinUpgrades.barMomentum.valueOf(),barReverberation:r.coinUpgrades.barReverberation.valueOf(),barVibration:r.coinUpgrades.barVibration.valueOf(),barAgitation:r.coinUpgrades.barAgitation.valueOf(),barAdoption:r.coinUpgrades.barAdoption.valueOf(),barEmpowerment:r.coinUpgrades.barEmpowerment.valueOf(),barReinforcement:r.coinUpgrades.barReinforcement.valueOf(),barResonance:r.coinUpgrades.barResonance.valueOf()},talents:{barCriticalChance:r.talents.barCriticalChance.valueOf(),barSpeed:r.talents.barSpeed.valueOf(),coinGain:r.talents.coinGain.valueOf()},barFragments:r.barFragments.valueOf()}),t=btoa(JSON.stringify(e));if(await ut.default.setItem("UPBSave",t),typeof((i=navigator.storage)==null?void 0:i.estimate)=="function"){let{usage:u,quota:E}=await navigator.storage.estimate();E&&u&&u/E*100>95&&W("You are very close to running out of space on this computer which may cause your save to getautomatically deleted soon! Clear some other site's data (and tell Khafra that this works please)!")}},Qr=new Map([["coins",Dt],["coinUpgrades.barSpeed",_t],["coinUpgrades.barMomentum",kt],["coinUpgrades.barReverberation",Nt],["coinUpgrades.barVibration",Ut],["coinUpgrades.barAgitation",$t],["coinUpgrades.barAdoption",Ft],["coinUpgrades.barEmpowerment",Ot],["coinUpgrades.barReinforcement",Gt],["coinUpgrades.barResonance",Xt],["talents.barCriticalChance",zt],["talents.barSpeed",Kt],["talents.coinGain",Vt],["barFragments",Bt]]),La=async()=>{let r=await ut.default.getItem("UPBSave"),e=r?JSON.parse(atob(r)):null;if(e!==null){let t=Object.keys(e);for(let i of t)i in qr&&(Qr.has(i)||Object.defineProperty(T,i,{value:e[i]}))}for(let[t,i]of Qr)Lr(T,t,i(e!=null?e:T,T));ze(T)},Be=new Set,lt=new Proxy(setInterval,{apply(r,e,t){let i=r.apply(e,t);return Be.add(i),i}}),Pa=new Proxy(clearInterval,{apply(r,e,t){let i=t[0];return Be.has(i)&&Be.delete(i),r.apply(e,t)}});window.addEventListener("pagehide",()=>{window.scrollTo(0,0)});var Yt=0,Qt=0,De=24,xa=6e4,qt=async()=>{for(let r of Be)Pa(r);Be.clear(),await La(),T.barTNL=Ie(T),Object.defineProperty(window,"player",{value:T}),Ee(de(T.barEXP,T.barTNL)),T.barFragments.updateHTML(),ue("Main"),L("progression",{backgroundColor:be(T)}),m("coinWorth",{textContent:`Worth ${d(T.coinValueCache)} coins`}),T.coinValueCache&&L("coinWorth",{color:"gold"}),Yt=performance.now(),Qt=performance.now(),lt(Ra,1e3/De),lt(wa,1e3/De),lt(Br,1e3,T),lt(Ma,xa,T),ge()},Jr=async()=>{if(await he("Are you SURE you want to reset the game?")===!1)return W("OK, the game hasn't been reset!");await ut.default.removeItem("UPBSave");let e=Object.keys(T);for(let t of e){if(typeof T[t]=="object"){delete T[t];continue}Object.defineProperty(T,t,{value:qr[t]})}await qt()},Ra=()=>{let e=performance.now()-Yt;Jt(e/1e3),Yt+=e},wa=async()=>{let e=performance.now()-Qt;Qt+=e,te.generateAttacks(e/1e3),le.decreaseDelay(e/1e3)},Jt=r=>{let e=r;if(e>5){let i=Ht(T),u=De*i*5,E=Math.floor(u),S=u-E,P=u*T.coinUpgrades.barResonance.upgradeEffect(),M=Math.floor(P),_=P-M;for(;e>5;){let N=Math.random(),V=0;N<S&&(V=1);let y=E+V;T.criticalHitsThisRefresh+=y;let x=Math.random(),U=0;x<_&&(U+=1);let $=M+U;for(;$>0;)T.coins.gain(Math.floor(T.barLevel/5)+3),$-=1;wt(5,T),e-=5,de(T.barEXP,T.barTNL)>=100&&At(T),It(T)}}wt(e,T),T.refreshTime+=r,m("refresh-timer",{textContent:`${d(T.refreshTime,2)}s`});let t=de(T.barEXP,T.barTNL);t<100?Ee(t):At(T),It(T)},Ae=60;var Me=async(r,e)=>{let t=r==="Basic Challenge"?"Basic Challenge":`${r} Challenge`,i=25;switch(m("challenge-name",{textContent:t}),r){case"Basic Challenge":m("challenge-description",{textContent:`The challenge is simple: Get to level
                                    ${d(175+25*e.completedChallenges.basicChallenge)}! 
                                    Your bar fragments are reset on challenges, however.`}),m("challenge-completions",{textContent:`${t} has been completed
                                 ${e.completedChallenges.basicChallenge} / ${i} times`}),m("challenge-reward",{textContent:"WIP REWARD!"});break;case"No Refresh":m("challenge-description",{textContent:`Refreshing is so out of style! Get to level 
                                    ${d(100+15*e.completedChallenges.noRefresh)}
                                     without once refreshing!`}),m("challenge-completions",{textContent:`${t} has been completed 
                                    ${e.completedChallenges.noRefresh} / ${i} times`}),m("challenge-reward",{textContent:"WIP REWARD!"});break;case"No Coin Upgrades":m("challenge-description",{textContent:`Even in this game, deflation hurts. Get to level
                                 ${d(100+15*e.completedChallenges.noRefresh)}
                                  without the effects of coin upgrades!`}),m("challenge-completions",{textContent:`${t} has been completed 
                    ${e.completedChallenges.noRefresh} / ${i} times`}),m("challenge-reward",{textContent:"WIP REWARD!"});break;case"Reduced Bar Fragments":m("challenge-description",{textContent:`Get to level ${d(200+40*e.completedChallenges.reducedFragments)}, 
                                but Bar Fragments are substantially reduced!.`}),m("challenge-completions",{textContent:`${t} has been completed 
                                ${e.completedChallenges.reducedFragments} / ${i}
                                 times`}),m("challenge-reward",{textContent:"WIP REWARD!"});break;case"None":m("challenge-description",{textContent:`Exit your challenge, if you want. 
                                Otherwise resets your bar fragments, for some reason.`}),m("challenge-completions",{textContent:""}),m("challenge-reward",{textContent:""});break}};var Zr=r=>{R("main-tab-nav").addEventListener("click",()=>ue("Main")),R("upgrade-tab-nav").addEventListener("click",()=>ue("Upgrades")),R("talent-tab-nav").addEventListener("click",()=>ue("Talents")),R("dueling-tab-nav").addEventListener("click",()=>ue("Dueling")),R("challenge-tab-nav").addEventListener("click",()=>ue("Challenges")),R("buy-coin-bar-speed").addEventListener("click",e=>r.coinUpgrades.barSpeed.purchaseLevels(1,e)),R("buy-coin-bar-momentum").addEventListener("click",e=>r.coinUpgrades.barMomentum.purchaseLevels(1,e)),R("buy-coin-bar-reverberation").addEventListener("click",e=>r.coinUpgrades.barReverberation.purchaseLevels(1,e)),R("buy-coin-bar-vibration").addEventListener("click",e=>r.coinUpgrades.barVibration.purchaseLevels(1,e)),R("buy-coin-bar-agitation").addEventListener("click",e=>r.coinUpgrades.barAgitation.purchaseLevels(1,e)),R("buy-coin-bar-adoption").addEventListener("click",e=>r.coinUpgrades.barAdoption.purchaseLevels(1,e)),R("buy-coin-bar-empowerment").addEventListener("click",e=>r.coinUpgrades.barEmpowerment.purchaseLevels(1,e)),R("buy-coin-bar-reinforcement").addEventListener("click",e=>r.coinUpgrades.barReinforcement.purchaseLevels(1,e)),R("buy-coin-bar-resonance").addEventListener("click",e=>r.coinUpgrades.barResonance.purchaseLevels(1,e)),R("buy-reset").addEventListener("click",()=>void ye("Refresh",r)),R("reset-game").addEventListener("click",()=>void Jr()),R("simulate-time").addEventListener("click",()=>void Jt(3600)),R("talentCriticalChanceSacrifice").addEventListener("click",()=>void r.talents.barCriticalChance.sacrificeFragments()),R("talentProgressSpeedSacrifice").addEventListener("click",()=>void r.talents.barSpeed.sacrificeFragments()),R("talentCoinGainSacrifice").addEventListener("click",()=>void r.talents.coinGain.sacrificeFragments()),R("basicAttack").addEventListener("click",()=>void le.attack()),R("autoAttack").addEventListener("click",()=>void Ar()),R("enrageSkill").addEventListener("click",()=>void le.enrage()),R("basic-challenge-icon").addEventListener("mouseover",()=>void Me("Basic Challenge",r)),R("no-refresh-challenge-icon").addEventListener("mouseover",()=>void Me("No Refresh",r)),R("no-coin-upgrade-challenge-icon").addEventListener("mouseover",()=>void Me("No Coin Upgrades",r)),R("reduced-fragments-challenge-icon").addEventListener("mouseover",()=>void Me("Reduced Bar Fragments",r)),R("none-challenge-icon").addEventListener("mouseover",()=>void Me("None",r)),R("basic-challenge-icon").addEventListener("click",()=>void fe("Basic Challenge")),R("no-refresh-challenge-icon").addEventListener("click",()=>void fe("No Refresh")),R("no-coin-upgrade-challenge-icon").addEventListener("click",()=>void fe("No Coin Upgrades")),R("reduced-fragments-challenge-icon").addEventListener("click",()=>void fe("Reduced Bar Fragments")),R("none-challenge-icon").addEventListener("click",()=>void fe("None"))};window.addEventListener("load",async()=>{var r,e;if(Zr(T),await qt(),Ve(T),typeof((r=navigator.storage)==null?void 0:r.persist)=="function"&&typeof((e=navigator.storage)==null?void 0:e.persisted)=="function"){let t=await navigator.storage.persisted();t?console.log(`Storage is persistent! (persistent = ${t})`):await navigator.storage.persist()&&W("Data on this page is now persistent! If you do not know what this means, you can safely ignore it.")}});document.addEventListener("visibilitychange",()=>{document.visibilityState!=="hidden"&&(T.coins.updateHTML(),T.coinUpgrades.barMomentum.updateHTML(),T.coinUpgrades.barSpeed.updateHTML(),T.coinUpgrades.barReverberation.updateHTML(),T.coinUpgrades.barVibration.updateHTML(),T.coinUpgrades.barAgitation.updateHTML(),T.barFragments.updateHTML(),T.talents.barCriticalChance.updateHTML("Initialize"),T.talents.barSpeed.updateHTML("Initialize"),m("coinWorth",{textContent:`Worth ${d(T.coinValueCache)} coins`}),T.coinValueCache>0?L("coinWorth",{color:"gold"}):L("coinWorth",{color:"grey"}))});})();
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
//# sourceMappingURL=out.js.map
